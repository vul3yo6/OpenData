<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js"></script>
</head>
<body>
    <button id="send">Click me!</button>
    <label id="result">Result</label>
    <script type="text/javascript">
        $(function () {
            $('#send').click(function () {
            // 最後必須是 &callback=funcion 或 &jsoncallback=function 結尾
            //var URL = "http://opendata.epa.gov.tw/ws/Data/UV/?$orderby=PublishAgency&$skip=0&$top=1000&format=json&callback=?";
            //var URL = 'http://odata.tn.edu.tw/schoolapi/api/getdata?schoolid=110302';

            //    $.ajax({
            //        type: 'GET',
            //        dataType: 'jsonp',  // 記得是jsonp
            //        url: URL,
            //        error: function (xhr, error) { alert(xhr + 'Ajax request error. : ' + error); },
            //        success: function (data) {
            //            var jsonData = JSON.parse(data);
            //            alert("SUCCESS!!!");
            //            alert(data.length);
            //        }
            //    })
            //})

            //var URL = 'http://opendata.epa.gov.tw/ws/Data/UV/?$orderby=PublishAgency&$skip=0&$top=1000&format=json';
            //var URL = 'http://data.gov.tw/api/rest/dataset';
            var URL = 'http://odata.tn.edu.tw/schoolapi/api/getdata?schoolid=110302';
            $.ajax({
                type: 'GET',
                dataType: 'JSONP',  // 記得是jsonp
                url: URL,
                error: function (xhr, error) {
                    alert(xhr + 'Ajax request error. : ' + error);
                },
                success: function (data) {
                    alert(data);
                    var jsonData = JSON.parse(data);
                    //var jsonData = JSON.stringify(data);
                    //alert("SUCCESS!!!");
                    //alert(data.length);
                    //alert(jsonData[0].schoolID);
                    //while (jsonData.length > 0) {
                    //    //document.write(jsonData.pop() + "<br/>");
                    //    alert(jsonData.pop());
                    //}
                    $('#result').text(
                        jsonData[0].schoolID + ' ' + jsonData[0].SchoolName + ' ' +
                        jsonData[0].SchoolType + ' ' + jsonData[0].SchoolType2 + ' ' +
                        jsonData[0].Stage + ' ' + jsonData[0].Tel + ' ' +
                        jsonData[0].CountryName + ' ' + jsonData[0].Addr
                    );
                }
            })
            });
        });
    </script>
</body>
</html>
